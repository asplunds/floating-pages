var e=Object.defineProperty,t=(t,n,o)=>(((t,n,o)=>{n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o})(t,"symbol"!=typeof n?n+"":n,o),o);!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(n){const o=new URL(e,location),r=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((n,c)=>{const s=new URL(e,o);if(self[t].moduleMap[s])return n(self[t].moduleMap[s]);const i=new Blob([`import * as m from '${s}';`,`${t}.moduleMap['${s}']=m;`],{type:"text/javascript"}),a=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(i),onerror(){c(new Error(`Failed to import: ${e}`)),r(a)},onload(){n(self[t].moduleMap[s]),r(a)}});document.head.appendChild(a)})),self[t].moduleMap={}}}("/floating-pages/assets/");const n=e=>{const{config:t}=e,{container:n}=t;e.pages=t.container.querySelectorAll(":scope > *"),t.container.classList.add("active"),c(e),r(o(e,n),n)},o=(e,t)=>{const{pages:n}=e,o=document.createElement("div");o.classList.add("page-wrapper");for(const[r,c]of[...n].entries()){const e=c.cloneNode(!0);e.style.setProperty("--page",r),c.remove(),o.appendChild(e)}return t.appendChild(o),e.wrapper=o,e.pages=o.querySelectorAll(":scope > *"),n},r=(e,t)=>{const n=document.createElement("div");n.classList.add("placeholder"),e.forEach((()=>t.appendChild(n.cloneNode())))},c=e=>{const{scroll:t}=e.config;t.addEventListener("scroll",(t=>s(t,e)))},s=(e,t)=>{const{container:n}=t.config,{pages:o}=t;e.currentTarget.scrollY;const{top:r}=n.getBoundingClientRect(),c=-r;t.index=i(0,~~(c/window.innerHeight),o.length-1),a(t)},i=(e,t,n)=>Math.max(e,Math.min(t,n)),a=e=>{const{container:t}=e.config,{index:n}=e;t.style.getPropertyValue("--index")!==n+""&&(t.style.setProperty("--index",n),e.config.onPageChange&&e.config.onPageChange(e))};new class{constructor(e){return t(this,"index",0),this.config=e,n(this),this}}({container:document.querySelector(".pages"),scroll:window,onPageChange:e=>console.log(e.index)});const l=[...document.querySelectorAll(".direction-picker button")],d=document.querySelector(".pages");function p(){const e=["p-down","p-up","p-left","p-right"].find((e=>"string"==typeof d.getAttribute(e)));for(const t of l)t.classList.remove("active"),t.getAttribute("dir")===e&&t.classList.add("active")}for(const u of l)u.addEventListener("click",(e=>{const t=["p-down","p-up","p-left","p-right"];for(const n of t)d.removeAttribute(n);d.setAttribute(e.currentTarget.getAttribute("dir"),!0),p()}));document.addEventListener("DOMContentLoaded",p);
